(window.webpackJsonp=window.webpackJsonp||[]).push([[39],{StwG:function(e,t,a){"use strict";a.r(t);var l={name:"TableList",components:{STable:a("q0+x").q},data:function(){var e=this;return{description:"列表使用场景：后台管理中的权限管理以及角色管理，可用于基于 RBAC 设计的角色权限控制，颗粒度细到每一个操作类型。",visible:!1,labelCol:{xs:{span:24},sm:{span:5}},wrapperCol:{xs:{span:24},sm:{span:16}},form:null,mdl:{},advanced:!1,queryParam:{},columns:[{title:"唯一识别码",dataIndex:"id"},{title:"权限名称",dataIndex:"name"},{title:"可操作权限",dataIndex:"actions",scopedSlots:{customRender:"actions"}},{title:"状态",dataIndex:"status",scopedSlots:{customRender:"status"}},{title:"操作",width:"150px",dataIndex:"action",scopedSlots:{customRender:"action"}}],permissionList:null,loadData:function(t){return e.$http.get("/permission",{params:Object.assign(t,e.queryParam)}).then(function(e){var t=e.result;return t.data.map(function(e){return e.actionList=JSON.parse(e.actionData),e}),t})},selectedRowKeys:[],selectedRows:[]}},filters:{statusFilter:function(e){return{1:"正常",2:"禁用"}[e]}},created:function(){this.loadPermissionList()},methods:{loadPermissionList:function(){var e=this;new Promise(function(e){setTimeout(e([{label:"新增",value:"add",defaultChecked:!1},{label:"查询",value:"get",defaultChecked:!1},{label:"修改",value:"update",defaultChecked:!1},{label:"列表",value:"query",defaultChecked:!1},{label:"删除",value:"delete",defaultChecked:!1},{label:"导入",value:"import",defaultChecked:!1},{label:"导出",value:"export",defaultChecked:!1}]),1500)}).then(function(t){e.permissionList=t})},handleEdit:function(e){this.mdl=Object.assign({},e),console.log(this.mdl),this.visible=!0},handleOk:function(){},onChange:function(e,t){this.selectedRowKeys=e,this.selectedRows=t},toggleAdvanced:function(){this.advanced=!this.advanced}},watch:{}},s=a("KHd+"),n=Object(s.a)(l,function(){var e=this,t=this,a=t.$createElement,l=t._self._c||a;return l("a-card",{attrs:{bordered:!1}},[l("div",{staticClass:"table-page-search-wrapper"},[l("a-form",{attrs:{layout:"inline"}},[l("a-row",{attrs:{gutter:48}},[l("a-col",{attrs:{md:8,sm:24}},[l("a-form-item",{attrs:{label:"角色ID"}},[l("a-input",{attrs:{placeholder:"请输入"}})],1)],1),t._v(" "),l("a-col",{attrs:{md:8,sm:24}},[l("a-form-item",{attrs:{label:"状态"}},[l("a-select",{attrs:{placeholder:"请选择","default-value":"0"}},[l("a-select-option",{attrs:{value:"0"}},[t._v("全部")]),t._v(" "),l("a-select-option",{attrs:{value:"1"}},[t._v("关闭")]),t._v(" "),l("a-select-option",{attrs:{value:"2"}},[t._v("运行中")])],1)],1)],1),t._v(" "),l("a-col",{attrs:{md:8,sm:24}},[l("span",{staticClass:"table-page-search-submitButtons"},[l("a-button",{attrs:{type:"primary"}},[t._v("查询")]),t._v(" "),l("a-button",{staticStyle:{"margin-left":"8px"}},[t._v("重置")])],1)])],1)],1)],1),t._v(" "),l("s-table",{attrs:{columns:t.columns,data:t.loadData},scopedSlots:t._u([{key:"actions",fn:function(e,a){return l("span",{},t._l(a.actionList,function(e,a){return l("a-tag",{key:a},[t._v(t._s(e.describe))])}),1)}},{key:"status",fn:function(e){return l("span",{},[t._v("\n      "+t._s(t._f("statusFilter")(e))+"\n    ")])}},{key:"action",fn:function(e,a){return l("span",{},[l("a",{on:{click:function(e){return t.handleEdit(a)}}},[t._v("编辑")]),t._v(" "),l("a-divider",{attrs:{type:"vertical"}}),t._v(" "),l("a-dropdown",[l("a",{staticClass:"ant-dropdown-link"},[t._v("\n          更多 "),l("a-icon",{attrs:{type:"down"}})],1),t._v(" "),l("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},[l("a-menu-item",[l("a",{attrs:{href:"javascript:;"}},[t._v("详情")])]),t._v(" "),l("a-menu-item",[l("a",{attrs:{href:"javascript:;"}},[t._v("禁用")])]),t._v(" "),l("a-menu-item",[l("a",{attrs:{href:"javascript:;"}},[t._v("删除")])])],1)],1)],1)}}])}),t._v(" "),l("a-modal",{attrs:{title:"操作",width:800},on:{ok:t.handleOk},model:{value:t.visible,callback:function(e){t.visible=e},expression:"visible"}},[l("a-form",{attrs:{autoFormCreate:function(t){e.form=t}}},[l("a-form-item",{attrs:{labelCol:t.labelCol,wrapperCol:t.wrapperCol,label:"唯一识别码",hasFeedback:"",validateStatus:"success"}},[l("a-input",{attrs:{placeholder:"唯一识别码",id:"no",disabled:"disabled"},model:{value:t.mdl.id,callback:function(e){t.$set(t.mdl,"id",e)},expression:"mdl.id"}})],1),t._v(" "),l("a-form-item",{attrs:{labelCol:t.labelCol,wrapperCol:t.wrapperCol,label:"权限名称",hasFeedback:"",validateStatus:"success"}},[l("a-input",{attrs:{placeholder:"起一个名字",id:"permission_name"},model:{value:t.mdl.name,callback:function(e){t.$set(t.mdl,"name",e)},expression:"mdl.name"}})],1),t._v(" "),l("a-form-item",{attrs:{labelCol:t.labelCol,wrapperCol:t.wrapperCol,label:"状态",hasFeedback:"",validateStatus:"warning"}},[l("a-select",{model:{value:t.mdl.status,callback:function(e){t.$set(t.mdl,"status",e)},expression:"mdl.status"}},[l("a-select-option",{attrs:{value:"1"}},[t._v("正常")]),t._v(" "),l("a-select-option",{attrs:{value:"2"}},[t._v("禁用")])],1)],1),t._v(" "),l("a-form-item",{attrs:{labelCol:t.labelCol,wrapperCol:t.wrapperCol,label:"描述",hasFeedback:""}},[l("a-textarea",{attrs:{rows:5,placeholder:"...",id:"describe"},model:{value:t.mdl.describe,callback:function(e){t.$set(t.mdl,"describe",e)},expression:"mdl.describe"}})],1),t._v(" "),l("a-divider"),t._v(" "),l("a-form-item",{attrs:{labelCol:t.labelCol,wrapperCol:t.wrapperCol,label:"赋予权限",hasFeedback:""}},[l("a-select",{staticStyle:{width:"100%"},attrs:{mode:"multiple",allowClear:!0},model:{value:t.mdl.actions,callback:function(e){t.$set(t.mdl,"actions",e)},expression:"mdl.actions"}},t._l(t.permissionList,function(e,a){return l("a-select-option",{key:a,attrs:{value:e.value}},[t._v(t._s(e.label))])}),1)],1)],1)],1)],1)},[],!1,null,null,null);t.default=n.exports}}]);