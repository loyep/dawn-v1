(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{"04/V":function(e,t,r){var a=r("fYqa"),n=r("G1Wo")("iterator"),o=r("sipE");e.exports=r("p9MR").isIterable=function(e){var t=Object(e);return void 0!==t[n]||"@@iterator"in t||o.hasOwnProperty(a(t))}},Q2zc:function(e,t,r){var a=r("G1Wo")("iterator"),n=!1;try{var o=[7][a]();o.return=function(){n=!0},Array.from(o,function(){throw 2})}catch(e){}e.exports=function(e,t){if(!t&&!n)return!1;var r=!1;try{var o=[7],s=o[a]();s.next=function(){return{done:r=!0}},o[a]=function(){return s},e(o)}catch(e){}return r}},S9CV:function(e,t,r){"use strict";var a=r("tETQ");r.n(a).a},SlyF:function(e,t,r){(e.exports=r("I1BE")(!1)).push([e.i,".card[data-v-001dc706] {\n  margin-bottom: 24px;\n}\n.popover-wrapper[data-v-001dc706] .antd-pro-pages-forms-style-errorPopover .ant-popover-inner-content {\n  min-width: 256px;\n  max-height: 290px;\n  padding: 0;\n  overflow: auto;\n}\n.antd-pro-pages-forms-style-errorIcon[data-v-001dc706] {\n  -webkit-user-select: none;\n     -moz-user-select: none;\n      -ms-user-select: none;\n          user-select: none;\n  margin-right: 24px;\n  color: #f5222d;\n  cursor: pointer;\n}\n.antd-pro-pages-forms-style-errorIcon i[data-v-001dc706] {\n  margin-right: 4px;\n}\n.antd-pro-pages-forms-style-errorListItem[data-v-001dc706] {\n  padding: 8px 16px;\n  list-style: none;\n  border-bottom: 1px solid #e8e8e8;\n  cursor: pointer;\n  -webkit-transition: all 0.3s;\n  transition: all 0.3s;\n}\n.antd-pro-pages-forms-style-errorListItem[data-v-001dc706]:hover {\n  background: #e6f7ff;\n}\n.antd-pro-pages-forms-style-errorListItem .antd-pro-pages-forms-style-errorIcon[data-v-001dc706] {\n  float: left;\n  margin-top: 4px;\n  margin-right: 12px;\n  padding-bottom: 22px;\n  color: #f5222d;\n}\n.antd-pro-pages-forms-style-errorListItem .antd-pro-pages-forms-style-errorField[data-v-001dc706] {\n  margin-top: 2px;\n  color: rgba(0, 0, 0, 0.45);\n  font-size: 12px;\n}\n",""])},UZlM:function(e,t,r){"use strict";r.r(t);r("RW0V");var a=r("zrwo"),n=(r("rGqo"),r("XfO3"),r("dfwq")),o=(r("f3/d"),r("a1Th"),{name:"RepositoryForm",props:{showSubmit:{type:Boolean,default:!1}},data:function(){return{form:this.$form.createForm(this)}},methods:{handleSubmit:function(e){var t=this;e.preventDefault(),this.form.validateFields(function(e,r){e||t.$notification.error({message:"Received values of form:",description:r})})},validate:function(e,t,r){/^user-(.*)$/.test(t)||r(new Error("需要以 user- 开头")),r()}}}),s=r("KHd+"),i=Object(s.a)(o,function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("a-form",{staticClass:"form",attrs:{form:e.form},on:{submit:e.handleSubmit}},[r("a-row",{staticClass:"form-row",attrs:{gutter:16}},[r("a-col",{attrs:{lg:6,md:12,sm:24}},[r("a-form-item",{attrs:{label:"仓库名"}},[r("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["name",{rules:[{required:!0,message:"请输入仓库名称",whitespace:!0}]}],expression:"[\n            'name',\n            {rules: [{ required: true, message: '请输入仓库名称', whitespace: true}]}\n          ]"}],attrs:{placeholder:"请输入仓库名称"}})],1)],1),e._v(" "),r("a-col",{attrs:{xl:{span:7,offset:1},lg:{span:8},md:{span:12},sm:24}},[r("a-form-item",{attrs:{label:"仓库域名"}},[r("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["url",{rules:[{required:!0,message:"请输入仓库域名",whitespace:!0},{validator:e.validate}]}],expression:"[\n            'url',\n            {rules: [{ required: true, message: '请输入仓库域名', whitespace: true}, {validator: validate}]}\n          ]"}],attrs:{addonBefore:"http://",addonAfter:".com",placeholder:"请输入"}})],1)],1),e._v(" "),r("a-col",{attrs:{xl:{span:9,offset:1},lg:{span:10},md:{span:24},sm:24}},[r("a-form-item",{attrs:{label:"仓库管理员"}},[r("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["owner",{rules:[{required:!0,message:"请选择管理员"}]}],expression:"[ 'owner', {rules: [{ required: true, message: '请选择管理员'}]} ]"}],attrs:{placeholder:"请选择管理员"}},[r("a-select-option",{attrs:{value:"王同学"}},[e._v("王同学")]),e._v(" "),r("a-select-option",{attrs:{value:"李同学"}},[e._v("李同学")]),e._v(" "),r("a-select-option",{attrs:{value:"黄同学"}},[e._v("黄同学")])],1)],1)],1)],1),e._v(" "),r("a-row",{staticClass:"form-row",attrs:{gutter:16}},[r("a-col",{attrs:{lg:6,md:12,sm:24}},[r("a-form-item",{attrs:{label:"审批人"}},[r("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["approver",{rules:[{required:!0,message:"请选择审批员"}]}],expression:"[ 'approver', {rules: [{ required: true, message: '请选择审批员'}]} ]"}],attrs:{placeholder:"请选择审批员"}},[r("a-select-option",{attrs:{value:"王晓丽"}},[e._v("王晓丽")]),e._v(" "),r("a-select-option",{attrs:{value:"李军"}},[e._v("李军")])],1)],1)],1),e._v(" "),r("a-col",{attrs:{xl:{span:7,offset:1},lg:{span:8},md:{span:12},sm:24}},[r("a-form-item",{attrs:{label:"生效日期"}},[r("a-range-picker",{directives:[{name:"decorator",rawName:"v-decorator",value:["dateRange",{rules:[{required:!0,message:"请选择生效日期"}]}],expression:"[\n            'dateRange',\n            {rules: [{ required: true, message: '请选择生效日期'}]}\n          ]"}],staticStyle:{width:"100%"}})],1)],1),e._v(" "),r("a-col",{attrs:{xl:{span:9,offset:1},lg:{span:10},md:{span:24},sm:24}},[r("a-form-item",{attrs:{label:"仓库类型"}},[r("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["type",{rules:[{required:!0,message:"请选择仓库类型"}]}],expression:"[\n            'type',\n            {rules: [{ required: true, message: '请选择仓库类型'}]}\n          ]"}],attrs:{placeholder:"请选择仓库类型"}},[r("a-select-option",{attrs:{value:"公开"}},[e._v("公开")]),e._v(" "),r("a-select-option",{attrs:{value:"私密"}},[e._v("私密")])],1)],1)],1)],1),e._v(" "),e.showSubmit?r("a-form-item",[r("a-button",{attrs:{htmlType:"submit"}},[e._v("Submit")])],1):e._e()],1)},[],!1,null,"7dc03f12",null).exports,l={name:"TaskForm",props:{showSubmit:{type:Boolean,default:!1}},data:function(){return{form:this.$form.createForm(this)}},methods:{handleSubmit:function(e){var t=this;e.preventDefault(),this.form.validateFields(function(e,r){e||t.$notification.error({message:"Received values of form:",description:r})})}}},c=Object(s.a)(l,function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("a-form",{staticClass:"form",attrs:{form:e.form},on:{submit:e.handleSubmit}},[r("a-row",{staticClass:"form-row",attrs:{gutter:16}},[r("a-col",{attrs:{lg:6,md:12,sm:24}},[r("a-form-item",{attrs:{label:"任务名"}},[r("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["name2",{rules:[{required:!0,message:"请输入任务名称",whitespace:!0}]}],expression:"[ 'name2', {rules: [{ required: true, message: '请输入任务名称', whitespace: true}]} ]"}],attrs:{placeholder:"请输入任务名称"}})],1)],1),e._v(" "),r("a-col",{attrs:{xl:{span:7,offset:1},lg:{span:8},md:{span:12},sm:24}},[r("a-form-item",{attrs:{label:"任务描述"}},[r("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["url2",{rules:[{required:!0,message:"请输入任务描述",whitespace:!0}]}],expression:"[ 'url2', {rules: [{ required: true, message: '请输入任务描述', whitespace: true}]} ]"}],attrs:{placeholder:"请输入任务描述"}})],1)],1),e._v(" "),r("a-col",{attrs:{xl:{span:9,offset:1},lg:{span:10},md:{span:24},sm:24}},[r("a-form-item",{attrs:{label:"执行人"}},[r("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["owner2",{rules:[{required:!0,message:"请选择执行人"}]}],expression:"[\n            'owner2',\n            {rules: [{ required: true, message: '请选择执行人'}]}\n          ]"}],attrs:{placeholder:"请选择执行人"}},[r("a-select-option",{attrs:{value:"黄丽丽"}},[e._v("黄丽丽")]),e._v(" "),r("a-select-option",{attrs:{value:"李大刀"}},[e._v("李大刀")])],1)],1)],1)],1),e._v(" "),r("a-row",{staticClass:"form-row",attrs:{gutter:16}},[r("a-col",{attrs:{lg:6,md:12,sm:24}},[r("a-form-item",{attrs:{label:"责任人"}},[r("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["approver2",{rules:[{required:!0,message:"请选择责任人"}]}],expression:"[\n            'approver2',\n            {rules: [{ required: true, message: '请选择责任人'}]}\n          ]"}],attrs:{placeholder:"请选择责任人"}},[r("a-select-option",{attrs:{value:"王伟"}},[e._v("王伟")]),e._v(" "),r("a-select-option",{attrs:{value:"李红军"}},[e._v("李红军")])],1)],1)],1),e._v(" "),r("a-col",{attrs:{xl:{span:7,offset:1},lg:{span:8},md:{span:12},sm:24}},[r("a-form-item",{attrs:{label:"提醒时间"}},[r("a-time-picker",{directives:[{name:"decorator",rawName:"v-decorator",value:["dateRange2",{rules:[{required:!0,message:"请选择提醒时间"}]}],expression:"[\n            'dateRange2',\n            {rules: [{ required: true, message: '请选择提醒时间'}]}\n          ]"}],staticStyle:{width:"100%"}})],1)],1),e._v(" "),r("a-col",{attrs:{xl:{span:9,offset:1},lg:{span:10},md:{span:24},sm:24}},[r("a-form-item",{attrs:{label:"任务类型"}},[r("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["type2",{rules:[{required:!0,message:"请选择任务类型"}]}],expression:"[ 'type2', {rules: [{ required: true, message: '请选择任务类型'}]} ]"}],attrs:{placeholder:"请选择任务类型"}},[r("a-select-option",{attrs:{value:"定时执行"}},[e._v("定时执行")]),e._v(" "),r("a-select-option",{attrs:{value:"周期执行"}},[e._v("周期执行")])],1)],1)],1)],1),e._v(" "),e.showSubmit?r("a-form-item",[r("a-button",{attrs:{htmlType:"submit"}},[e._v("Submit")])],1):e._e()],1)},[],!1,null,"02c69bcc",null).exports,u=r("NT+6"),d=r("JQcH"),m={name:"仓库名",url:"仓库域名",owner:"仓库管理员",approver:"审批人",dateRange:"生效日期",type:"仓库类型",name2:"任务名",url2:"任务描述",owner2:"执行人",approver2:"责任人",dateRange2:"生效日期",type2:"任务类型"},p={name:"AdvancedForm",mixins:[d.b,d.c],components:{FooterToolBar:u.a,RepositoryForm:i,TaskForm:c},data:function(){return{description:"高级表单常见于一次性输入和提交大批量数据的场景。",loading:!1,memberLoading:!1,columns:[{title:"成员姓名",dataIndex:"name",key:"name",width:"20%",scopedSlots:{customRender:"name"}},{title:"工号",dataIndex:"workId",key:"workId",width:"20%",scopedSlots:{customRender:"workId"}},{title:"所属部门",dataIndex:"department",key:"department",width:"40%",scopedSlots:{customRender:"department"}},{title:"操作",key:"action",scopedSlots:{customRender:"operation"}}],data:[{key:"1",name:"小明",workId:"001",editable:!1,department:"行政部"},{key:"2",name:"李莉",workId:"002",editable:!1,department:"IT部"},{key:"3",name:"王小帅",workId:"003",editable:!1,department:"财务部"}],errors:[]}},methods:{handleSubmit:function(e){e.preventDefault()},newMember:function(){var e=this.data.length;this.data.push({key:0===e?"1":(parseInt(this.data[e-1].key)+1).toString(),name:"",workId:"",department:"",editable:!0,isNew:!0})},remove:function(e){var t=this.data.filter(function(t){return t.key!==e});this.data=t},saveRow:function(e){var t=this;this.memberLoading=!0;var r=e.key,a=e.name,n=e.workId,o=e.department;if(!a||!n||!o)return this.memberLoading=!1,void this.$message.error("请填写完整成员信息。");new Promise(function(e){setTimeout(function(){e({loop:!1})},800)}).then(function(){var e=t.data.filter(function(e){return e.key===r})[0];e.editable=!1,e.isNew=!1,t.memberLoading=!1})},toggle:function(e){var t=this.data.filter(function(t){return t.key===e})[0];t.editable=!t.editable},getRowByKey:function(e,t){var r=this.data;return(t||r).filter(function(t){return t.key===e})[0]},cancel:function(e){this.data.filter(function(t){return t.key===e})[0].editable=!1},handleChange:function(e,t,r){var a=Object(n.a)(this.data),o=a.filter(function(e){return t===e.key})[0];o&&(o[r]=e,this.data=a)},validate:function(){var e=this,t=this.$refs,r=t.repository,n=t.task,o=this.$notification,s=new Promise(function(e,t){r.form.validateFields(function(r,a){r?t(r):e(a)})}),i=new Promise(function(e,t){n.form.validateFields(function(r,a){r?t(r):e(a)})});this.errors=[],Promise.all([s,i]).then(function(e){o.error({message:"Received values of form:",description:JSON.stringify(e)})}).catch(function(){var t=Object.assign({},r.form.getFieldsError(),n.form.getFieldsError()),o=Object(a.a)({},t);e.errorList(o),console.log(o)})},errorList:function(e){if(!e||0===e.length)return null;this.errors=Object.keys(e).map(function(t){return e[t]?{key:t,message:e[t][0],fieldLabel:m[t]}:null})},scrollToField:function(e){var t=document.querySelector('label[for="'.concat(e,'"]'));t&&t.scrollIntoView(!0)}}},f=(r("S9CV"),Object(s.a)(p,function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("a-card",{staticClass:"card",attrs:{title:"仓库管理",bordered:!1}},[r("repository-form",{ref:"repository",attrs:{showSubmit:!1}})],1),e._v(" "),r("a-card",{staticClass:"card",attrs:{title:"任务管理",bordered:!1}},[r("task-form",{ref:"task",attrs:{showSubmit:!1}})],1),e._v(" "),r("a-card",[r("a-table",{attrs:{columns:e.columns,dataSource:e.data,pagination:!1,loading:e.memberLoading},scopedSlots:e._u([e._l(["name","workId","department"],function(t,a){return{key:t,fn:function(n,o){return[o.editable?r("a-input",{key:t,staticStyle:{margin:"-5px 0"},attrs:{value:n,placeholder:e.columns[a].title},on:{change:function(r){return e.handleChange(r.target.value,o.key,t)}}}):[e._v(e._s(n))]]}}}),{key:"operation",fn:function(t,a){return[a.editable?[a.isNew?r("span",[r("a",{on:{click:function(t){return e.saveRow(a)}}},[e._v("添加")]),e._v(" "),r("a-divider",{attrs:{type:"vertical"}}),e._v(" "),r("a-popconfirm",{attrs:{title:"是否要删除此行？"},on:{confirm:function(t){return e.remove(a.key)}}},[r("a",[e._v("删除")])])],1):r("span",[r("a",{on:{click:function(t){return e.saveRow(a)}}},[e._v("保存")]),e._v(" "),r("a-divider",{attrs:{type:"vertical"}}),e._v(" "),r("a",{on:{click:function(t){return e.cancel(a.key)}}},[e._v("取消")])],1)]:r("span",[r("a",{on:{click:function(t){return e.toggle(a.key)}}},[e._v("编辑")]),e._v(" "),r("a-divider",{attrs:{type:"vertical"}}),e._v(" "),r("a-popconfirm",{attrs:{title:"是否要删除此行？"},on:{confirm:function(t){return e.remove(a.key)}}},[r("a",[e._v("删除")])])],1)]}}],null,!0)}),e._v(" "),r("a-button",{staticStyle:{width:"100%","margin-top":"16px","margin-bottom":"8px"},attrs:{type:"dashed",icon:"plus"},on:{click:e.newMember}},[e._v("新增成员")])],1),e._v(" "),r("footer-tool-bar",{style:{width:e.isSideMenu()&&e.isDesktop()?"calc(100% - "+(e.sidebarOpened?256:80)+"px)":"100%"}},[r("span",{staticClass:"popover-wrapper"},[r("a-popover",{attrs:{title:"表单校验信息",overlayClassName:"antd-pro-pages-forms-style-errorPopover",trigger:"click",getPopupContainer:function(e){return e.parentNode}}},[r("template",{slot:"content"},e._l(e.errors,function(t){return r("li",{key:t.key,staticClass:"antd-pro-pages-forms-style-errorListItem",on:{click:function(r){return e.scrollToField(t.key)}}},[r("a-icon",{staticClass:"antd-pro-pages-forms-style-errorIcon",attrs:{type:"cross-circle-o"}}),e._v(" "),r("div",{},[e._v(e._s(t.message))]),e._v(" "),r("div",{staticClass:"antd-pro-pages-forms-style-errorField"},[e._v(e._s(t.fieldLabel))])],1)}),0),e._v(" "),e.errors.length>0?r("span",{staticClass:"antd-pro-pages-forms-style-errorIcon"},[r("a-icon",{attrs:{type:"exclamation-circle"}}),e._v(e._s(e.errors.length)+"\n        ")],1):e._e()],2)],1),e._v(" "),r("a-button",{attrs:{type:"primary",loading:e.loading},on:{click:e.validate}},[e._v("提交")])],1)],1)},[],!1,null,"001dc706",null));t.default=f.exports},"V/f9":function(e,t,r){r("k8Q4"),r("YQlv"),e.exports=r("p9MR").Array.from},XfO3:function(e,t,r){"use strict";var a=r("AvRE")(!0);r("Afnz")(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,r=this._i;return r>=t.length?{value:void 0,done:!0}:(e=a(t,r),this._i+=e.length,{value:e,done:!1})})},YQlv:function(e,t,r){"use strict";var a=r("vCXk"),n=r("0T/a"),o=r("AYVP"),s=r("nJOo"),i=r("widk"),l=r("pasi"),c=r("s+zB"),u=r("8Vlj");n(n.S+n.F*!r("Q2zc")(function(e){Array.from(e)}),"Array",{from:function(e){var t,r,n,d,m=o(e),p="function"==typeof this?this:Array,f=arguments.length,v=f>1?arguments[1]:void 0,g=void 0!==v,h=0,y=u(m);if(g&&(v=a(v,f>2?arguments[2]:void 0,2)),null==y||p==Array&&i(y))for(r=new p(t=l(m.length));t>h;h++)c(r,h,g?v(m[h],h):m[h]);else for(d=y.call(m),r=new p;!(n=d.next()).done;h++)c(r,h,g?s(d,v,[n.value,h],!0):n.value);return r.length=h,r}})},d04V:function(e,t,r){e.exports=r("V/f9")},dfwq:function(e,t,r){"use strict";var a=r("p0XB"),n=r.n(a);var o=r("d04V"),s=r.n(o),i=r("yLu3"),l=r.n(i);function c(e){return function(e){if(n()(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(l()(Object(e))||"[object Arguments]"===Object.prototype.toString.call(e))return s()(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}r.d(t,"a",function(){return c})},icr7:function(e,t,r){r("tCzM"),r("k8Q4"),e.exports=r("04/V")},nJOo:function(e,t,r){var a=r("D4ny");e.exports=function(e,t,r,n){try{return n?t(a(r)[0],r[1]):t(r)}catch(t){var o=e.return;throw void 0!==o&&a(o.call(e)),t}}},"s+zB":function(e,t,r){"use strict";var a=r("OtwA"),n=r("+EWW");e.exports=function(e,t,r){t in e?a.f(e,t,n(0,r)):e[t]=r}},tETQ:function(e,t,r){var a=r("SlyF");"string"==typeof a&&(a=[[e.i,a,""]]);var n={hmr:!0,transform:void 0,insertInto:void 0};r("aET+")(a,n);a.locals&&(e.exports=a.locals)},widk:function(e,t,r){var a=r("sipE"),n=r("G1Wo")("iterator"),o=Array.prototype;e.exports=function(e){return void 0!==e&&(a.Array===e||o[n]===e)}},yLu3:function(e,t,r){e.exports=r("icr7")}}]);